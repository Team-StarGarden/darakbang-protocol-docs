<!DOCTYPE HTML>
<html lang="ko" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>다락방 프로토콜</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="theme/korean.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> 다락방 프로토콜</a></li><li class="expanded "><a href="0-foreword/00-index.html"><strong aria-hidden="true">2.</strong> 프로토콜 설명에 앞서</a></li><li><ol class="section"><li class="expanded "><a href="0-foreword/01-terms.html"><strong aria-hidden="true">2.1.</strong> 용어</a></li><li class="expanded "><a href="0-foreword/02-naming-rule.html"><strong aria-hidden="true">2.2.</strong> 이름 규칙</a></li><li class="expanded "><a href="0-foreword/03-packet-structure.html"><strong aria-hidden="true">2.3.</strong> 패킷 구조</a></li><li class="expanded "><a href="0-foreword/04-type-definitions.html"><strong aria-hidden="true">2.4.</strong> 타입 정의</a></li></ol></li><li class="expanded "><a href="1-communicate/00-index.html"><strong aria-hidden="true">3.</strong> 대화형 패킷</a></li><li><ol class="section"><li class="expanded "><a href="1-communicate/01-goto.html"><strong aria-hidden="true">3.1.</strong> goto</a></li><li class="expanded "><a href="1-communicate/02-create-room.html"><strong aria-hidden="true">3.2.</strong> create-room</a></li><li class="expanded "><a href="1-communicate/03-ready.html"><strong aria-hidden="true">3.3.</strong> ready</a></li><li class="expanded "><a href="1-communicate/04-start-game.html"><strong aria-hidden="true">3.4.</strong> start-game</a></li><li class="expanded "><a href="1-communicate/05-get-room.html"><strong aria-hidden="true">3.5.</strong> get-room</a></li><li class="expanded "><a href="1-communicate/07-get-self.html"><strong aria-hidden="true">3.6.</strong> get-self</a></li><li class="expanded "><a href="1-communicate/08-get-user.html"><strong aria-hidden="true">3.7.</strong> get-user</a></li></ol></li><li class="expanded "><a href="2-inform/00-index.html"><strong aria-hidden="true">4.</strong> 통보형 패킷</a></li><li><ol class="section"><li class="expanded "><a href="2-inform/01-died.html"><strong aria-hidden="true">4.1.</strong> died</a></li><li class="expanded "><a href="2-inform/02-noticed.html"><strong aria-hidden="true">4.2.</strong> noticied</a></li><li class="expanded "><a href="2-inform/03-user-joined.html"><strong aria-hidden="true">4.3.</strong> user-joined</a></li><li class="expanded "><a href="2-inform/04-game-started.html"><strong aria-hidden="true">4.4.</strong> game-started</a></li><li class="expanded "><a href="2-inform/05-room-added.html"><strong aria-hidden="true">4.5.</strong> room-added</a></li><li class="expanded "><a href="2-inform/06-room-updated.html"><strong aria-hidden="true">4.6.</strong> rom-updated</a></li><li class="expanded "><a href="2-inform/07-room-removed.html"><strong aria-hidden="true">4.7.</strong> room-removed</a></li><li class="expanded "><a href="2-inform/08-user-left.html"><strong aria-hidden="true">4.8.</strong> user-left</a></li></ol></li><li class="expanded "><a href="3-game/00-index.html"><strong aria-hidden="true">5.</strong> 게임 패킷</a></li><li><ol class="section"><li class="expanded "><a href="3-game/0-wordchain/00-index.html"><strong aria-hidden="true">5.1.</strong> 끝말잇기</a></li><li><ol class="section"><li class="expanded "><a href="3-game/0-wordchain/0-communicate/00-index.html"><strong aria-hidden="true">5.1.1.</strong> 대화형 패킷</a></li><li><ol class="section"><li class="expanded "><a href="3-game/0-wordchain/0-communicate/01-submit-word.html"><strong aria-hidden="true">5.1.1.1.</strong> submit-word</a></li></ol></li><li class="expanded "><a href="3-game/0-wordchain/1-inform/00-index.html"><strong aria-hidden="true">5.1.2.</strong> 통보형 패킷</a></li><li><ol class="section"><li class="expanded "><a href="3-game/0-wordchain/1-inform/01-character-changed.html"><strong aria-hidden="true">5.1.2.1.</strong> character-changed</a></li><li class="expanded "><a href="3-game/0-wordchain/1-inform/02-turn-changed.html"><strong aria-hidden="true">5.1.2.2.</strong> turn-changed</a></li></ol></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">다락방 프로토콜</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#다락방-프로토콜" id="다락방-프로토콜">다락방 프로토콜</a></h1>
<p>이 책은 다락방 프로토콜의 명세를 담고 있습니다.
먼저, 다락방 프로토콜을 설명하기 전, 알아야 할 배경 지식에 대해 설명합니다.
그리고 다락방 프로토콜에서 다루는 패킷을 <code>대화형 패킷</code>과 <code>통보형 패킷</code>으로 나누어 설명합니다.
마지막으로, 각 게임이 사용하는 패킷을 게임별로 설명합니다.</p>
<h1><a class="header" href="#프로토콜-설명에-앞서" id="프로토콜-설명에-앞서">프로토콜 설명에 앞서</a></h1>
<p>이 챕터는 다락방 프로토콜 이해에 필요한 배경지식을 설명하는 챕터입니다. 만약 필요하지 않다면 건너뛰십시오.</p>
<h1><a class="header" href="#용어" id="용어">용어</a></h1>
<h2><a class="header" href="#서버" id="서버">서버</a></h2>
<p><strong>서버</strong>는 네트워크를 통해 다락방 프로토콜에 부합하는 정보를 전달하는 프로그램을 말합니다.</p>
<h2><a class="header" href="#클라이언트" id="클라이언트">클라이언트</a></h2>
<p><strong>클라이언트</strong>는 네트워크를 통해 <a href="0-foreword/01-terms.html#%EC%84%9C%EB%B2%84">서버</a>에 접속해 서비스를 요청하는 프로그램을 말합니다.</p>
<h2><a class="header" href="#메시지" id="메시지">메시지</a></h2>
<p><strong>메시지</strong>는 <code>HTTP 요청</code> 혹은 <code>WebSocket</code>으로 주고받는 데이터를 총칭하여 말합니다.</p>
<h2><a class="header" href="#패킷" id="패킷">패킷</a></h2>
<p><strong>패킷</strong>은 <a href="0-foreword/01-terms.html#%EB%A9%94%EC%8B%9C%EC%A7%80">메시지</a>의 본문을 JSON 규격으로 해석할 수 있는 것만을 말합니다.</p>
<h2><a class="header" href="#이상-패킷" id="이상-패킷">이상 패킷</a></h2>
<p><strong>이상 패킷</strong>은 메시지의 본문을 JSON 규격으로 해석할 수 없는 것만을 말합니다.</p>
<h2><a class="header" href="#서버-바운드-패킷" id="서버-바운드-패킷">서버 바운드 패킷</a></h2>
<p><strong>서버 바운드 패킷</strong>은 <a href="0-foreword/01-terms.html#%EC%84%9C%EB%B2%84">서버</a>가 보내는 <a href="0-foreword/01-terms.html#%ED%8C%A8%ED%82%B7">패킷</a>입니다.</p>
<h2><a class="header" href="#클라이언트-바운드-패킷" id="클라이언트-바운드-패킷">클라이언트 바운드 패킷</a></h2>
<p><strong>클라이언트 바운드 패킷</strong>은 <a href="0-foreword/01-terms.html#%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8">클라이언트</a>가 보내는 <a href="0-foreword/01-terms.html#%ED%8C%A8%ED%82%B7">패킷</a>입니다.</p>
<h1><a class="header" href="#이름-규칙" id="이름-규칙">이름 규칙</a></h1>
<h2><a class="header" href="#공통" id="공통">공통</a></h2>
<ul>
<li>휴먼 미스를 피하기 위해 복수형(-es, -s)을 사용하지 않습니다. 그 대신에 List, Set 등을 뒤에 붙입니다.</li>
</ul>
<h2><a class="header" href="#패킷-1" id="패킷-1">패킷</a></h2>
<ul>
<li><code>PascalCase</code> 로 이름을 짓습니다.</li>
<li>패킷 종류의 이름은 두 부분으로 나눕니다. 네임스페이스와 식별자입니다.
<ul>
<li>네임스페이스와 식별자는 콜론(<code>:</code>)으로 나눕니다.</li>
<li>네임스페이스와 식별자 모두 <code>hyphen-case</code>로 짓습니다.</li>
<li>네임스페이스는 공용 패킷만 생략할 수 있습니다.</li>
<li>게임 패킷의 경우, 네임스페이스는 게임 영문 표기를 사용하도록 합니다.</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#클라이언트-바운드-패킷-1" id="클라이언트-바운드-패킷-1">클라이언트 바운드 패킷</a></h2>
<ul>
<li>
<p>패킷 이름 앞에 <code>I will</code> 이 붙어있다고 생각하고 이름을 짓습니다.</p>
<p>e.g. <code>StartGame</code>, <code>Quit</code>, <code>Ready</code> 등</p>
</li>
</ul>
<h2><a class="header" href="#통보형-패킷" id="통보형-패킷">통보형 패킷</a></h2>
<ul>
<li>
<p><code>주어(생략가능) + 동사과거</code>의 형식으로 이름을 짓습니다.</p>
<p>e.g. <code>PlayerJoined</code>, <code>Noticed</code> 등</p>
</li>
</ul>
<h1><a class="header" href="#패킷-구조" id="패킷-구조">패킷 구조</a></h1>
<p>TypeScript를 주력으로 사용하는 다락방 팀이므로, 문서 속 JSON 규격은 TypeScript 문법으로 서술합니다.</p>
<h2><a class="header" href="#클라이언트-바운드-패킷-2" id="클라이언트-바운드-패킷-2">클라이언트 바운드 패킷</a></h2>
<p>모든 클라이언트 바운드 패킷은 다음 구조를 따릅니다.</p>
<pre><code class="language-typescript">type PacketKind = string;
type PacketBody = object;

interface ClientPacket {
  kind: PacketKind;
  body: PacketBody;
}
</code></pre>
<h2><a class="header" href="#서버-바운드-패킷-1" id="서버-바운드-패킷-1">서버 바운드 패킷</a></h2>
<p>모든 서버 바운드 패킷은 다음 구조를 따릅니다.</p>
<pre><code class="language-typescript">type PacketKind = string;
type PacketBody = object;
type Error&lt;ErrorKind extends string&gt; = {
  kind: ErrorKind;
  description: string | undefined;
};

interface ServerPacket {
  ok: boolean;
  kind: PacketKind;
  body: PacketBody | Error&lt;string&gt;;
}
</code></pre>
<h1><a class="header" href="#타입-정의" id="타입-정의">타입 정의</a></h1>
<p>공통으로 자주 나올 타입에 대한 정의입니다.</p>
<pre><code class="language-typescript">// Aliases
export { GameCategory, RoomId, UserId } from &quot;darakbang-be/src/packet/common&quot;;
export type char = string; // TypeScript doesn't support char type, it's just convention.

// Core Types
export { Room } from &quot;darakbang-fe/src/lib/room&quot;; // *1
export { User } from &quot;darakbang-fe/src/lib/user&quot;; // *2
export { GameType, Game } from &quot;darakbang-be/src/core/game&quot;; // *3
</code></pre>
<ul>
<li><a href="https://gitlab.com/Team-StarGarden/Darakbang/darakbang-fe/blob/master/src/lib/room.ts">*1: darakbang-fe/src/lib/room</a></li>
<li><a href="https://gitlab.com/Team-StarGarden/Darakbang/darakbang-fe/blob/master/src/lib/user.ts">*2: darakbang-fe/src/lib/user</a></li>
<li><a href="https://gitlab.com/Team-StarGarden/Darakbang/darakbang-be/blob/master/src/core/game.ts">*3: darakbang-be/src/core/game</a></li>
<li><a href="https://gitlab.com/Team-StarGarden/Darakbang/darakbang-be/blob/master/src/packet/common.ts">*4: darakbang-be/src/packet/common</a></li>
</ul>
<h1><a class="header" href="#대화형-패킷" id="대화형-패킷">대화형 패킷</a></h1>
<p>대화형 패킷은 클라이언트 바운드 패킷인 <code>요청 패킷</code>과 서버 바운드 패킷인 <code>응답 패킷</code>으로 짝지어진 패킷 쌍입니다.</p>
<p>모든 대화형 패킷은 다음 순서를 따라 문서가 진행됩니다.</p>
<ol>
<li>대화형 패킷에 대한 설명</li>
<li>요청 패킷
<ol>
<li>요청 패킷 구조</li>
<li>구조에 대한 설명</li>
</ol>
</li>
<li>응답 패킷
<ol>
<li>응답 패킷 구조</li>
<li>구조에 대한 설명</li>
</ol>
</li>
</ol>
<h1><a class="header" href="#goto" id="goto">goto</a></h1>
<h1><a class="header" href="#create-room" id="create-room">create-room</a></h1>
<p>방을 만듭니다.</p>
<h2><a class="header" href="#요청-패킷" id="요청-패킷">요청 패킷</a></h2>
<pre><code class="language-typescript">interface RequestPacket {
  kind: &quot;create-room&quot;;
  body: {
    gameCategory: GameCategory;
    options: object | undefined;
  };
}
</code></pre>
<ul>
<li>게임 타입별로 필요한 옵션을 받습니다.</li>
<li>게임별로 옵션 규격은 다릅니다.</li>
</ul>
<h2><a class="header" href="#응답-패킷" id="응답-패킷">응답 패킷</a></h2>
<pre><code class="language-typescript">type ErrorKind = &quot;not-allowed&quot;;
interface OkBody {}

interface ResponsePacket {
  ok: boolean;
  kind: &quot;create-room&quot;;
  body: OkBody | Error&lt;ErrorKind&gt;;
}
</code></pre>
<h1><a class="header" href="#ready" id="ready">ready</a></h1>
<h1><a class="header" href="#start-game" id="start-game">start-game</a></h1>
<p>게임을 시작합니다.</p>
<h2><a class="header" href="#요청-패킷-1" id="요청-패킷-1">요청 패킷</a></h2>
<pre><code class="language-typescript">interface RequestPacket {
  kind: &quot;start-game&quot;;
  body: {};
}
</code></pre>
<h2><a class="header" href="#응답-패킷-1" id="응답-패킷-1">응답 패킷</a></h2>
<pre><code class="language-typescript">type ErrorKind = &quot;not-in-room&quot; | &quot;no-permission&quot; | &quot;not-full-ready&quot;;
interface OkData {}

interface ResponsePacket {
  ok: boolean;
  kind: &quot;start-game&quot;;
  body: OkData | Error&lt;ErrorKind&gt;;
}
</code></pre>
<h1><a class="header" href="#get-room" id="get-room">get-room</a></h1>
<p>방 정보를 가져옵니다.</p>
<h2><a class="header" href="#요청-패킷-2" id="요청-패킷-2">요청 패킷</a></h2>
<pre><code class="language-typescript">interface RequestPacket {
  kind: &quot;get-room&quot;;
  body: {
    roomId: RoomId;
  };
}
</code></pre>
<h2><a class="header" href="#응답-패킷-2" id="응답-패킷-2">응답 패킷</a></h2>
<pre><code class="language-typescript">type ErrorKind = &quot;not-exists&quot;;
interface OkData {
  room: Room;
}

interface ResponsePacket {
  ok: boolean;
  kind: &quot;get-room&quot;;
  body: OkData | Error&lt;ErrorKind&gt;;
}
</code></pre>
<h1><a class="header" href="#get-self" id="get-self">get-self</a></h1>
<p>자기 자신에 대한 정보를 가져옵니다.</p>
<h2><a class="header" href="#요청-패킷-3" id="요청-패킷-3">요청 패킷</a></h2>
<pre><code class="language-typescript">interface RequestPacket {
  kind: &quot;get-self&quot;;
  body: {};
}
</code></pre>
<h2><a class="header" href="#응답-패킷-3" id="응답-패킷-3">응답 패킷</a></h2>
<pre><code class="language-typescript">type ErrorKind = &quot;invalid-session&quot;;
interface OkData {
  self: User;
}

interface ResponsePacket {
  ok: boolean;
  kind: &quot;get-self&quot;;
  body: OkData | Error&lt;ErrorKind&gt;;
}
</code></pre>
<h1><a class="header" href="#get-user" id="get-user">get-user</a></h1>
<p>특정 사용자에 대한 정보를 가져옵니다.</p>
<h2><a class="header" href="#요청-패킷-4" id="요청-패킷-4">요청 패킷</a></h2>
<pre><code class="language-typescript">interface RequestPacket {
  kind: &quot;get-user&quot;;
  body: {
    id: UserId;
  };
}
</code></pre>
<h2><a class="header" href="#응답-패킷-4" id="응답-패킷-4">응답 패킷</a></h2>
<pre><code class="language-typescript">type ErrorKind = &quot;invalid-id&quot;;
interface OkData {
  user: User;
}

interface ResponsePacket {
  ok: boolean;
  kind: &quot;get-user&quot;;
  body: OkData | Error&lt;ErrorKind&gt;;
}
</code></pre>
<h1><a class="header" href="#통보형-패킷-1" id="통보형-패킷-1">통보형 패킷</a></h1>
<p>통보형 패킷은 서버가 클라이언트에게 통보하는 패킷입니다. 따라서 모든 통보형 패킷은 서버 바운드 패킷입니다.</p>
<p>모든 통보형 패킷은 다음 순서를 따라 문서가 진행됩니다.</p>
<ol>
<li>패킷에 대한 설명</li>
<li>패킷 구조</li>
<li>패킷 구조에 대한 설명</li>
</ol>
<h1><a class="header" href="#died" id="died">died</a></h1>
<h1><a class="header" href="#noticied" id="noticied">noticied</a></h1>
<h1><a class="header" href="#user-joined" id="user-joined">user-joined</a></h1>
<p>사용자가 접속하였음을 공지합니다.</p>
<pre><code class="language-typescript">interface InformPacket {
  ok: true;
  kind: &quot;user-joined&quot;;
  body: {
    user: UserId;
  };
}
</code></pre>
<h1><a class="header" href="#game-started" id="game-started">game-started</a></h1>
<p>게임을 시작했음을 공지합니다.</p>
<pre><code class="language-typescript">interface InformPacket {
  ok: true;
  kind: &quot;game-started&quot;;
  body: {};
}
</code></pre>
<h1><a class="header" href="#room-added" id="room-added">room-added</a></h1>
<p>누군가가 방을 만들었음을 공지합니다.</p>
<pre><code class="language-typescript">interface InformPacket {
  ok: true;
  kind: &quot;room-added&quot;;
  body: {
    roomId: RoomId;
  };
}
</code></pre>
<h1><a class="header" href="#room-updated" id="room-updated">room-updated</a></h1>
<p>어떤 방의 정보가 업데이트되었음을 공지합니다.</p>
<pre><code class="language-typescript">interface InformPacket {
  ok: true;
  kind: &quot;room-updated&quot;;
  body: {
    roomId: RoomId;
  };
}
</code></pre>
<h1><a class="header" href="#room-removed" id="room-removed">room-removed</a></h1>
<p>어떤 방이 삭제되었음을 공지합니다.</p>
<pre><code class="language-typescript">interface InformPacket {
  ok: true;
  kind: &quot;room-removed&quot;;
  body: {
    roomId: RoomId;
  };
}
</code></pre>
<h1><a class="header" href="#userleft" id="userleft">UserLeft</a></h1>
<p>사용자가 퇴장하였음을 공지합니다.</p>
<pre><code class="language-typescript">interface InformPacket {
  ok: true;
  kind: &quot;user-left&quot;;
  body: {
    user: UserId;
  };
}
</code></pre>
<h1><a class="header" href="#게임-패킷" id="게임-패킷">게임 패킷</a></h1>
<p>각 게임은 서로 다른 콘텐츠를 전하기 때문에 동일한 규격으로 모든 게임을 담을 수는 없습니다.
따라서 게임 진행 중에 사용하는 패킷은 아무리 공통으로 관리할 수 있어도 별개의 표준으로 작성합니다.</p>
<h2><a class="header" href="#형식" id="형식">형식</a></h2>
<p>각 게임은 인덱스 페이지에 다음 형식을 따릅니다.
치환해야할 플레이스 홀더 값은 중괄호 쌍으로 나타냅니다.
플레이스 홀더 값에 들어가는 값이 제한적인 경우, <code>|</code>로 묶어 나타냅니다.</p>
<pre><code class="language-md">`{게임에 대한 간략한 설명}`

| 속성         | 값                                        |
| ------------ | ----------------------------------------- |
| 한국어 명칭  | `{플레이스홀더}`                          |
| 영어 명칭    | `{플레이스홀더}`                          |
| 네임스페이스 | `{플레이스홀더}`                          |
| 단계         | `{프로토콜 구성 | 구현 시작 | 구현 완료}` |
| 공개         | `{공개 예정 | 공개 중 | 공개 중단}`       |
</code></pre>
<h1><a class="header" href="#beta-only-끝말잇기" id="beta-only-끝말잇기">(Beta Only) 끝말잇기</a></h1>
<p>단어의 끝 문자를 계속 이어가는 게임</p>
<table><thead><tr><th>속성</th><th>값</th></tr></thead><tbody>
<tr><td>한국어 명칭</td><td>끝말잇기</td></tr>
<tr><td>영어 명칭</td><td>word chain</td></tr>
<tr><td>네임 스페이스</td><td>word-chain</td></tr>
<tr><td>단계</td><td>프로토콜 구성</td></tr>
<tr><td>공개</td><td>공개 예정</td></tr>
</tbody></table>
<h1><a class="header" href="#끝말잇기-대화형-패킷" id="끝말잇기-대화형-패킷">끝말잇기: 대화형 패킷</a></h1>
<p>끝말잇기 패킷 중 대화형 패킷에 속하는 패킷을 설명합니다.</p>
<h1><a class="header" href="#submit-word" id="submit-word">submit-word</a></h1>
<p>단어를 제시합니다.</p>
<h2><a class="header" href="#요청-패킷-5" id="요청-패킷-5">요청 패킷</a></h2>
<pre><code class="language-typescript">interface RequestPacket {
  kind: &quot;word-chain:submit-word&quot;;
  body: {
    word: string;
  };
}
</code></pre>
<h2><a class="header" href="#응답-패킷-5" id="응답-패킷-5">응답 패킷</a></h2>
<pre><code class="language-typescript">type ErrorKind = &quot;not-your-turn&quot; | &quot;invalid&quot;;
interface OkBody {}

interface ResponsePacket {
  ok: boolean;
  kind: &quot;goto&quot;;
  body: OkBody | Error&lt;ErrorKind&gt;;
}
</code></pre>
<h1><a class="header" href="#끝말잇기-통보형-패킷" id="끝말잇기-통보형-패킷">끝말잇기: 통보형 패킷</a></h1>
<p>끝말잇기 패킷 중 통보형 패킷에 속하는 패킷을 설명합니다.</p>
<h1><a class="header" href="#character-changed" id="character-changed">character-changed</a></h1>
<p>끝 문자가 변경되었음을 알립니다.</p>
<pre><code class="language-typescript">interface InformPacket {
  ok: true;
  kind: &quot;word-chain:character-changed&quot;;
  body: {
    character: char;
  };
}
</code></pre>
<h1><a class="header" href="#turn-changed" id="turn-changed">turn-changed</a></h1>
<p>턴이 <code>target</code> 에게 넘어갔음을 알립니다.</p>
<pre><code class="language-typescript">interface InformPacket {
  ok: true;
  kind: &quot;word-chain:turn-changed&quot;;
  body: {
    target: UserId;
  };
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
